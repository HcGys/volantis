<script>
  volantis.message = (title, message, icon = 'fad fa-info-square', time = 3000, position = 'topRight', done = null) => {
    if (typeof iziToast == "undefined") {
      volantis.css('<%- theme.cdn.map.css.message %>')
      volantis.js('<%- theme.cdn.map.js.message %>', () => {
        tozashMessage(title, message, icon, time, position, done);
      });
    } else {
      tozashMessage(title, message, icon, time, position, done);
    }

    function tozashMessage(title, message, icon, time, position, done) {
      iziToast.show({
        layout: '2',
        icon: 'Fontawesome',
        transitionIn: 'bounceInLeft',
        transitionOut: 'fadeOutRight',
        closeOnEscape: 'true',
        displayMode: 'replace',
        backgroundColor: '#fff',
        title: title,
        message: message,
        icon: icon,
        timeout: time,
        position: position,
        onClosed: () => {
          if(done) done();
        },
      });
    }
  };
</script>
